# Motivation

You want to know what has happened about a certain contract in the past.

https://viem.sh/docs/actions/public/getLogs#getlogs

# Quiz

1 run Anvil
2 deploy an erc20 (say address is 0x5FbDB2315678afecb367f032d93F642f64180aa3)

3 run some transfer events

4 run script to get the transaction events (pull data offline)


note, can support multiple

## log

```sh
üöÄ Starting ERC20 Transfer event log retrieval...

üîç Getting logs for contract: 0x5FbDB2315678afecb367f032d93F642f64180aa3
üì° Connected to: http://localhost:8545
‚è≥ Fetching logs...

üìä Found 5 Transfer events

--- Transfer Event 1 ---
Block Number: 1n
Transaction Hash: 0x0bcc695433b7ecbfb66ad79d9bdc6c170bba91ed6136efd1a068fc772fe76d9b
Log Index: 0
Contract Address: 0x5fbdb2315678afecb367f032d93f642f64180aa3
From: 0x0000000000000000000000000000000000000000
To: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
Value: 1000000000000000000000000000 tokens
Topics:
  Topic 0: 0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef
  Topic 1: 0x0000000000000000000000000000000000000000000000000000000000000000
  Topic 2: 0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266
Data: 0x0000000000000000000000000000000000000000033b2e3c9fd0803ce8000000
Removed: false

--- Transfer Event 2 ---
Block Number: 2n
Transaction Hash: 0xdc7aee71040890bb9e725a1dcd2bb4de5328bc0cefc74aebc1dfa7a106750e12
Log Index: 0
Contract Address: 0x5fbdb2315678afecb367f032d93f642f64180aa3
From: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
To: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
Value: 1000000000000000000000 tokens
Topics:
  Topic 0: 0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef
  Topic 1: 0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266
  Topic 2: 0x00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8
Data: 0x00000000000000000000000000000000000000000000003635c9adc5dea00000
Removed: false

--- Transfer Event 3 ---
Block Number: 3n
Transaction Hash: 0x96c5d2ab63e324411c079421b609dc0e1708483969962ffc2a8de85bff291a3d
Log Index: 0
Contract Address: 0x5fbdb2315678afecb367f032d93f642f64180aa3
From: 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
To: 0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC
Value: 1000000000000000000000 tokens
Topics:
  Topic 0: 0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef
  Topic 1: 0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266
  Topic 2: 0x0000000000000000000000003c44cdddb6a900fa2b585dd299e03d12fa4293bc
Data: 0x00000000000000000000000000000000000000000000003635c9adc5dea00000
Removed: false

--- Transfer Event 4 ---
Block Number: 4n
Transaction Hash: 0xfe70955382b2802118525c2c06a8b6fab297547e0f376ff15be616d81a1b8915
Log Index: 0
Contract Address: 0x5fbdb2315678afecb367f032d93f642f64180aa3
From: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
To: 0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC
Value: 500000000000000000000 tokens
Topics:
  Topic 0: 0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef
  Topic 1: 0x00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8
  Topic 2: 0x0000000000000000000000003c44cdddb6a900fa2b585dd299e03d12fa4293bc
Data: 0x00000000000000000000000000000000000000000000001b1ae4d6e2ef500000
Removed: false

--- Transfer Event 5 ---
Block Number: 5n
Transaction Hash: 0x59ff0d33333200adc2308ce2a482e0e17ca0d07701f79cf31bcc1804db41daee
Log Index: 0
Contract Address: 0x5fbdb2315678afecb367f032d93f642f64180aa3
From: 0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC
To: 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
Value: 500000000000000000000 tokens
Topics:
  Topic 0: 0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef
  Topic 1: 0x0000000000000000000000003c44cdddb6a900fa2b585dd299e03d12fa4293bc
  Topic 2: 0x00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8
Data: 0x00000000000000000000000000000000000000000000001b1ae4d6e2ef500000
Removed: false

üìà Summary:
Total Transfer events: 5
Block range: 1 to 5

üîç Getting logs using topic filtering...

üìä Found 5 Transfer events using topic filtering

--- Transfer Event 1 (Topic Method) ---
Block Number: 1n
Transaction Hash: 0x0bcc695433b7ecbfb66ad79d9bdc6c170bba91ed6136efd1a068fc772fe76d9b
Contract Address: 0x5fbdb2315678afecb367f032d93f642f64180aa3
Topics: [
  '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',
  '0x0000000000000000000000000000000000000000000000000000000000000000',
  '0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266'
]
Data: 0x0000000000000000000000000000000000000000033b2e3c9fd0803ce8000000

--- Transfer Event 2 (Topic Method) ---
Block Number: 2n
Transaction Hash: 0xdc7aee71040890bb9e725a1dcd2bb4de5328bc0cefc74aebc1dfa7a106750e12
Contract Address: 0x5fbdb2315678afecb367f032d93f642f64180aa3
Topics: [
  '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',
  '0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266',
  '0x00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8'
]
Data: 0x00000000000000000000000000000000000000000000003635c9adc5dea00000

--- Transfer Event 3 (Topic Method) ---
Block Number: 3n
Transaction Hash: 0x96c5d2ab63e324411c079421b609dc0e1708483969962ffc2a8de85bff291a3d
Contract Address: 0x5fbdb2315678afecb367f032d93f642f64180aa3
Topics: [
  '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',
  '0x000000000000000000000000f39fd6e51aad88f6f4ce6ab8827279cfffb92266',
  '0x0000000000000000000000003c44cdddb6a900fa2b585dd299e03d12fa4293bc'
]
Data: 0x00000000000000000000000000000000000000000000003635c9adc5dea00000

--- Transfer Event 4 (Topic Method) ---
Block Number: 4n
Transaction Hash: 0xfe70955382b2802118525c2c06a8b6fab297547e0f376ff15be616d81a1b8915
Contract Address: 0x5fbdb2315678afecb367f032d93f642f64180aa3
Topics: [
  '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',
  '0x00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8',
  '0x0000000000000000000000003c44cdddb6a900fa2b585dd299e03d12fa4293bc'
]
Data: 0x00000000000000000000000000000000000000000000001b1ae4d6e2ef500000

--- Transfer Event 5 (Topic Method) ---
Block Number: 5n
Transaction Hash: 0x59ff0d33333200adc2308ce2a482e0e17ca0d07701f79cf31bcc1804db41daee
Contract Address: 0x5fbdb2315678afecb367f032d93f642f64180aa3
Topics: [
  '0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef',
  '0x0000000000000000000000003c44cdddb6a900fa2b585dd299e03d12fa4293bc',
  '0x00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8'
]
Data: 0x00000000000000000000000000000000000000000000001b1ae4d6e2ef500000

‚úÖ Log retrieval complete!
```
