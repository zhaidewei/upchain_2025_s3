./deploy_and_test_fork.sh                 ÓÇ≤ ‚úî ÓÇ≤ 10672 ÓÇ≤ 19:26:07
üöÄ Deploying Meme Token Factory...
ADMIN_PRIVATE_KEY=0xac0974bec39a17e36ba4a6b4d238ff944bacb478cbed5efcae784d7bf4f2ff80
USER1_KEY=0x59c6995e998f97a5a0044966f0945389dc9e86dae88c7a8412f4603b6b78690d
USER2_KEY=0x5de4111afa1a4b94908f83103eb1f1706367c2e68ca870fc3fb9a804cdab365a
üì¶ Deploying implementation and factory...
ERC20_IMPL_ADDRESS=0x78155E681c54Da4c25B6228753EcbfF5d8C2Def8
üì¶ Deploying factory...
FACTORY_ADDRESS=0x3c5eC7698538a74C15Ca01C6cbb5FD6cbbae43AC
üì¶ Deploying proxy using factory...

blockHash            0xea675269521ca20e473995e174e285513e7688e413232af7e8e43063dc8e471c
blockNumber          23096038
contractAddress
cumulativeGasUsed    273382
effectiveGasPrice    204118640
from                 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
gasUsed              273382
logs                 []
logsBloom            0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
root
status               1 (success)
transactionHash      0x2f54297b0c85bb82169b7557b676f70dd22d70d143ece31f3928a5f49a028d1a
transactionIndex     0
type                 2
blobGasPrice         1
blobGasUsed
to                   0x3c5eC7698538a74C15Ca01C6cbb5FD6cbbae43AC
üì¶ Getting deployed proxy address...
PROXY_ADDRESS=0x38Fcae0544337e84919FE58FEd9EF3965E86384F
üîê Authorizing Router to spend tokens for liquidity provision...
Token owner (USER1) authorizes Router to spend tokens...

blockHash            0xe4c25d13d8ec374c7f01bc5ccdca5779af78073c21ce3a47f161a6bc4c67194a
blockNumber          23096039
contractAddress
cumulativeGasUsed    49641
effectiveGasPrice    179148615
from                 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
gasUsed              49641
logs                 [{"address":"0x38fcae0544337e84919fe58fed9ef3965e86384f","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8","0x0000000000000000000000007a250d5630b4cf539739df2c5dacb4c659f2488d"],"data":"0x00000000000000000000000000000000000000000000d3c21bcecceda1000000","blockHash":"0xe4c25d13d8ec374c7f01bc5ccdca5779af78073c21ce3a47f161a6bc4c67194a","blockNumber":"0x1606ae7","blockTimestamp":"0x6895ded7","transactionHash":"0xc050b63c9d3374614cd6a27b560f533d2399c1c552552a6305241d2c47bec882","transactionIndex":"0x0","logIndex":"0x0","removed":false}]
logsBloom            0x00000000000000000002000000000000000001000000000000010000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000020000010000000000000000000000000000001000000000000000000000002000000
root
status               1 (success)
transactionHash      0xc050b63c9d3374614cd6a27b560f533d2399c1c552552a6305241d2c47bec882
transactionIndex     0
type                 2
blobGasPrice         1
blobGasUsed
to                   0x38Fcae0544337e84919FE58FEd9EF3965E86384F
Router authorization completed
üß™ Testing the deployed proxy...
Calling decimals() on proxy:
18
Calling name() on proxy:
"Meme1"
Calling symbol() on proxy:
"MEME1"
Calling perMint() on proxy:
10000000000000000000 [1e19]
Calling price() on proxy:
100000000000 [1e11]
Calling factory() on proxy:
0x3c5eC7698538a74C15Ca01C6cbb5FD6cbbae43AC
Calling owner() on proxy:
0x70997970C51812dc3A010C7d01b50e0d17dc79C8
Calling totalSupply() on proxy (should be 0 initially):
0
üí∞ Checking initial balances...
USER1 balance:
9999999935304521562305
USER2 balance:
10000000000000000000000
ADMIN balance:
9999999098910850868929
ü™ô Testing minting with USER2...
USER2 mints tokens from the deployed meme token...
Token price: 100000000000 [1e11] wei
Token state before minting:
Total supply: 0
Per mint amount: 10000000000000000000 [1e19]
Factory address: 0x3c5eC7698538a74C15Ca01C6cbb5FD6cbbae43AC
Expected factory: 0x3c5eC7698538a74C15Ca01C6cbb5FD6cbbae43AC
üîê Token owner (USER1) authorizes Factory to spend tokens for liquidity provision...

blockHash            0x116d77e08dd22da7c9e4c01a462b057a69bba9f6e1bceeaa34b1737b33d7a8a8
blockNumber          23096040
contractAddress
cumulativeGasUsed    49641
effectiveGasPrice    157041344
from                 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
gasUsed              49641
logs                 [{"address":"0x38fcae0544337e84919fe58fed9ef3965e86384f","topics":["0x8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925","0x00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8","0x0000000000000000000000003c5ec7698538a74c15ca01c6cbb5fd6cbbae43ac"],"data":"0x00000000000000000000000000000000000000000000d3c21bcecceda1000000","blockHash":"0x116d77e08dd22da7c9e4c01a462b057a69bba9f6e1bceeaa34b1737b33d7a8a8","blockNumber":"0x1606ae8","blockTimestamp":"0x6895ded8","transactionHash":"0x1c115d1a0b5afd0132bb9d8095080eddfc0d93ccd4450f5e0a86ed9f8d80faa1","transactionIndex":"0x0","logIndex":"0x0","removed":false}]
logsBloom            0x00000000000000000002000000000000000001000000000000000000000004000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000000000000000080000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000011000000000000000000000002000000
root
status               1 (success)
transactionHash      0x1c115d1a0b5afd0132bb9d8095080eddfc0d93ccd4450f5e0a86ed9f8d80faa1
transactionIndex     0
type                 2
blobGasPrice         1
blobGasUsed
to                   0x38Fcae0544337e84919FE58FEd9EF3965E86384F
Attempting to mint tokens...
‚úÖ USER2 successfully minted tokens!
üí∞ Checking balances after minting...
USER2 token balance:
9500000000000000000 [9.5e18]
Total supply after minting:
10000000000000000000 [1e19]
USER2 ETH balance after minting:
9999999608917343229518
ADMIN ETH balance after minting (should have received 5% fee):
9999999098910850868929
USER1 ETH balance after minting (should have received 95% fee):
9999999927508832204801
üß™ Testing buyMeme functionality...
WETH_ADDRESS=0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2
FACTORY_V2_ADDRESS=0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f
Checking if liquidity pool exists...
Pair address: 0x6BF1aF253935298811b3579336A81AA87F906Dc8
‚úÖ Liquidity pool exists, testing buyMeme...
Testing buyMeme with 10000000000 wei...
üí∞ USER2 token balance BEFORE buyMeme:
9500000000000000000 [9.5e18]
‚úÖ buyMeme transaction sent successfully!
üí∞ USER2 token balance AFTER buyMeme:
9832999331997327989 [9.832e18]
üìà Tokens gained from buyMeme:
9832999331997327989 [9.832e18] - 9500000000000000000 [9.5e18]
üéâ All tests completed successfully
