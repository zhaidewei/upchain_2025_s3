üöÄ Starting KK Token Staking Pool Deployment and Testing...
üîë Addresses:
ADMIN_ADDRESS=0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
USER1_ADDRESS=0x70997970C51812dc3A010C7d01b50e0d17dc79C8
USER2_ADDRESS=0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC
üì¶ Step 1: Deploying KK Token ERC20 contract...
‚úÖ KK Token deployed to: 0x5FbDB2315678afecb367f032d93F642f64180aa3
üì¶ Step 2: Deploying KK Staking contract...
üìä Current block number: 1
‚úÖ KK Staking deployed to: 0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512
üîó Step 3: Setting staking address in KK Token contract...

blockHash            0x846c27e409299f10f425b1cf97bad00689b03452a76e4ee149113fbeeda4790d
blockNumber          3
contractAddress
cumulativeGasUsed    46375
effectiveGasPrice    785793218
from                 0xf39Fd6e51aad88F6F4ce6aB8827279cffFb92266
gasUsed              46375
logs                 []
logsBloom            0x00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
root
status               1 (success)
transactionHash      0xa9865fa76539f0f82ff8bb1207fd5f909fbb5f86fd3b7a986bb7b2942aac3421
transactionIndex     0
type                 2
blobGasPrice         1
blobGasUsed
to                   0x5FbDB2315678afecb367f032d93F642f64180aa3
‚úÖ Staking address set in KK Token contract
üìä Deployment block B0: 1
üí∞ Step 4: User1 staking 10 ETH...

blockHash            0x4efc69c0ea6e4aba90a5db9c7f8c3c1ae760d60b844b48654c4853e7d49c1912
blockNumber          4
contractAddress
cumulativeGasUsed    80935
effectiveGasPrice    687872743
from                 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
gasUsed              80935
logs                 [{"address":"0xe7f1725e7734ce288f8367e1bb143e90bb3f0512","topics":["0xebedb8b3c678666e7f36970bc8f57abf6d8fa2e828c0da91ea5b75bf68ed101a","0x00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8"],"data":"0x0000000000000000000000000000000000000000000000008ac7230489e80000","blockHash":"0x4efc69c0ea6e4aba90a5db9c7f8c3c1ae760d60b844b48654c4853e7d49c1912","blockNumber":"0x4","blockTimestamp":"0x689c7cf8","transactionHash":"0xb559f5fb29561908ba66d9d565dc69291628b3042172f609288b9b8b016fc280","transactionIndex":"0x0","logIndex":"0x0","removed":false}]
logsBloom            0x00000000000000000002000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000010000000000000000000000000000000000000001000000000000800000000000000000
root
status               1 (success)
transactionHash      0xb559f5fb29561908ba66d9d565dc69291628b3042172f609288b9b8b016fc280
transactionIndex     0
type                 2
blobGasPrice         1
blobGasUsed
to                   0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512
üìä Block B1 (after user1 stake): 4
üîç Checking user1's pending KK reward (should be 0)...
User1 pending KK reward: 0 (expected: 0)
User1 staked ETH balance: 10000000000000000000 [1e19]
üí∞ Step 5: User2 staking 10 ETH...

blockHash            0xc22db46f85ed5b57054c601f6e91ce427a36e51d8d146852ccaeebeed0977bba
blockNumber          5
contractAddress
cumulativeGasUsed    163687
effectiveGasPrice    602352592
from                 0x3C44CdDdB6a900fa2b585dd299e03d12FA4293BC
gasUsed              163687
logs                 [{"address":"0x5fbdb2315678afecb367f032d93f642f64180aa3","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x000000000000000000000000e7f1725e7734ce288f8367e1bb143e90bb3f0512"],"data":"0x0000000000000000000000000000000000000000000000008ac7230489e80000","blockHash":"0xc22db46f85ed5b57054c601f6e91ce427a36e51d8d146852ccaeebeed0977bba","blockNumber":"0x5","blockTimestamp":"0x689c7cf8","transactionHash":"0xbaea02e87c991f33e21e1e5d748ad856c1ad0126a71ccfdfb04f0f0242f20e64","transactionIndex":"0x0","logIndex":"0x0","removed":false},{"address":"0x5fbdb2315678afecb367f032d93f642f64180aa3","topics":["0x0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d4121396885","0x000000000000000000000000e7f1725e7734ce288f8367e1bb143e90bb3f0512"],"data":"0x0000000000000000000000000000000000000000000000008ac7230489e80000","blockHash":"0xc22db46f85ed5b57054c601f6e91ce427a36e51d8d146852ccaeebeed0977bba","blockNumber":"0x5","blockTimestamp":"0x689c7cf8","transactionHash":"0xbaea02e87c991f33e21e1e5d748ad856c1ad0126a71ccfdfb04f0f0242f20e64","transactionIndex":"0x0","logIndex":"0x1","removed":false},{"address":"0xe7f1725e7734ce288f8367e1bb143e90bb3f0512","topics":["0xebedb8b3c678666e7f36970bc8f57abf6d8fa2e828c0da91ea5b75bf68ed101a","0x0000000000000000000000003c44cdddb6a900fa2b585dd299e03d12fa4293bc"],"data":"0x0000000000000000000000000000000000000000000000008ac7230489e80000","blockHash":"0xc22db46f85ed5b57054c601f6e91ce427a36e51d8d146852ccaeebeed0977bba","blockNumber":"0x5","blockTimestamp":"0x689c7cf8","transactionHash":"0xbaea02e87c991f33e21e1e5d748ad856c1ad0126a71ccfdfb04f0f0242f20e64","transactionIndex":"0x0","logIndex":"0x2","removed":false}]
logsBloom            0x00000000000000000400000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000100000000002000020000000000008000000000000000000000000000000000000000000000040020000000000000000000800000800000200400000000014000000000000000000000000000000000000000000000000000000000000000200000000000080000000200000000002000000000000000000000000000000000000000000000042000000000000000000001000000000000000000000000000010020000000000000000000000000000000000000000000000000800000000000000000
root
status               1 (success)
transactionHash      0xbaea02e87c991f33e21e1e5d748ad856c1ad0126a71ccfdfb04f0f0242f20e64
transactionIndex     0
type                 2
blobGasPrice         1
blobGasUsed
to                   0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512
üìä Block B2 (after user2 stake): 5
‚úÖ B2 (5) is different from B1 (4)
üîç Step 6: Checking earned values for both users...
‚è≥ Waiting for a few blocks to accumulate rewards...
User1 earned KK tokens: 10000000000000000000 [1e19]
User2 earned KK tokens: 0
Total staked ETH: 20000000000000000000 [2e19]
Staking contract KK token balance: 10000000000000000000 [1e19]
üí∞ Step 7: User1 unstaking all 10 ETH and claiming rewards...
User1 current staked balance: 10000000000000000000 [1e19]

blockHash            0x2cb23f39b302aa787a563f1926fd1d274a620a32052266d4709b1a2dcb20c322
blockNumber          6
contractAddress
cumulativeGasUsed    98520
effectiveGasPrice    527880163
from                 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
gasUsed              98520
logs                 [{"address":"0x5fbdb2315678afecb367f032d93f642f64180aa3","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x000000000000000000000000e7f1725e7734ce288f8367e1bb143e90bb3f0512"],"data":"0x0000000000000000000000000000000000000000000000008ac7230489e80000","blockHash":"0x2cb23f39b302aa787a563f1926fd1d274a620a32052266d4709b1a2dcb20c322","blockNumber":"0x6","blockTimestamp":"0x689c7cfa","transactionHash":"0x27af3a985f380550627700f95b15b60ec7102a8dd45cd49066b0a6a057589cc2","transactionIndex":"0x0","logIndex":"0x0","removed":false},{"address":"0x5fbdb2315678afecb367f032d93f642f64180aa3","topics":["0x0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d4121396885","0x000000000000000000000000e7f1725e7734ce288f8367e1bb143e90bb3f0512"],"data":"0x0000000000000000000000000000000000000000000000008ac7230489e80000","blockHash":"0x2cb23f39b302aa787a563f1926fd1d274a620a32052266d4709b1a2dcb20c322","blockNumber":"0x6","blockTimestamp":"0x689c7cfa","transactionHash":"0x27af3a985f380550627700f95b15b60ec7102a8dd45cd49066b0a6a057589cc2","transactionIndex":"0x0","logIndex":"0x1","removed":false},{"address":"0xe7f1725e7734ce288f8367e1bb143e90bb3f0512","topics":["0xb24546d975e2628748efc9aced80665e0fad66272033e5c0ea25fd3afac99795","0x00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8"],"data":"0x0000000000000000000000000000000000000000000000008ac7230489e80000","blockHash":"0x2cb23f39b302aa787a563f1926fd1d274a620a32052266d4709b1a2dcb20c322","blockNumber":"0x6","blockTimestamp":"0x689c7cfa","transactionHash":"0x27af3a985f380550627700f95b15b60ec7102a8dd45cd49066b0a6a057589cc2","transactionIndex":"0x0","logIndex":"0x2","removed":false}]
logsBloom            0x00000000000000000402000000000000000000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000020000000000008000000000000000000000000000000000000000000000840020000000000000000000800000000000000400000000014000000000000000000000000000000000000000000000000000000000000000200000000000080000000000000000002000000000000000000000000000000000000000400000042000000000000000000001000000000000000000000000000000020000000000000002000000000000000000021000000000000800000000000000000
root
status               1 (success)
transactionHash      0x27af3a985f380550627700f95b15b60ec7102a8dd45cd49066b0a6a057589cc2
transactionIndex     0
type                 2
blobGasPrice         1
blobGasUsed
to                   0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512
üìä Block B3 (after user1 unstake): 6
User1 earned KK tokens before claim: 0

blockHash            0xb476636aa698fffc62b263e0c47f4bb60f632a953611e022dcf1e994c503d0c7
blockNumber          7
contractAddress
cumulativeGasUsed    91726
effectiveGasPrice    462328533
from                 0x70997970C51812dc3A010C7d01b50e0d17dc79C8
gasUsed              91726
logs                 [{"address":"0x5fbdb2315678afecb367f032d93f642f64180aa3","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x0000000000000000000000000000000000000000000000000000000000000000","0x000000000000000000000000e7f1725e7734ce288f8367e1bb143e90bb3f0512"],"data":"0x0000000000000000000000000000000000000000000000008ac7230489e80000","blockHash":"0xb476636aa698fffc62b263e0c47f4bb60f632a953611e022dcf1e994c503d0c7","blockNumber":"0x7","blockTimestamp":"0x689c7cfb","transactionHash":"0x1a117fcea88f54b34813d8c1c6bf4a7c03f2fd76612151583cb3979f06a5cf4b","transactionIndex":"0x0","logIndex":"0x0","removed":false},{"address":"0x5fbdb2315678afecb367f032d93f642f64180aa3","topics":["0x0f6798a560793a54c3bcfe86a93cde1e73087d944c0ea20544137d4121396885","0x000000000000000000000000e7f1725e7734ce288f8367e1bb143e90bb3f0512"],"data":"0x0000000000000000000000000000000000000000000000008ac7230489e80000","blockHash":"0xb476636aa698fffc62b263e0c47f4bb60f632a953611e022dcf1e994c503d0c7","blockNumber":"0x7","blockTimestamp":"0x689c7cfb","transactionHash":"0x1a117fcea88f54b34813d8c1c6bf4a7c03f2fd76612151583cb3979f06a5cf4b","transactionIndex":"0x0","logIndex":"0x1","removed":false},{"address":"0x5fbdb2315678afecb367f032d93f642f64180aa3","topics":["0xddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef","0x000000000000000000000000e7f1725e7734ce288f8367e1bb143e90bb3f0512","0x00000000000000000000000070997970c51812dc3a010c7d01b50e0d17dc79c8"],"data":"0x000000000000000000000000000000000000000000000000d02ab486cedc0000","blockHash":"0xb476636aa698fffc62b263e0c47f4bb60f632a953611e022dcf1e994c503d0c7","blockNumber":"0x7","blockTimestamp":"0x689c7cfb","transactionHash":"0x1a117fcea88f54b34813d8c1c6bf4a7c03f2fd76612151583cb3979f06a5cf4b","transactionIndex":"0x0","logIndex":"0x2","removed":false}]
logsBloom            0x00000000000000000402000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000000000008000000000000000000000000000000000000000000000840020000000000000000000800000000000000400000000014000000000000000000000000000000000000000000000000000000000000000200000000000080000000000000000002000000000000000000000000000000000000000000000042000000000000000000000000000000000000000000000000000020000000000000000000000000000000000001000000000000000000000000000000
root
status               1 (success)
transactionHash      0x1a117fcea88f54b34813d8c1c6bf4a7c03f2fd76612151583cb3979f06a5cf4b
transactionIndex     0
type                 2
blobGasPrice         1
blobGasUsed
to                   0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512
‚úÖ User1 claimed all rewards
User1 KK token balance after claim: 15000000000000000000 [1.5e19]
User1 staked ETH balance after unstake: 0
Total staked ETH after user1 unstake: 10000000000000000000 [1e19]
üéØ Final Verification:
B0 (deployment): 1
B1 (user1 stake): 4
B2 (user2 stake): 5
B3 (user1 unstake): 6
User1 final KK tokens: 15000000000000000000 [1.5e19]
User2 current earned: 15000000000000000000 [1.5e19]
üéâ All tests completed successfully!
